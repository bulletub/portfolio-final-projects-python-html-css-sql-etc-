{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
<div class="fixed top-4 right-4 z-50 space-y-2 max-w-md">
{% for category, message in messages %}
<div class="p-4 rounded-lg shadow-lg {% if category == 'success' %}bg-green-100 border border-green-400 text-green-800{% elif category == 'error' %}bg-red-100 border border-red-400 text-red-800{% else %}bg-blue-100 border border-blue-400 text-blue-800{% endif %}">
<div class="flex items-center justify-between">
<span>{{ message }}</span>
<button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-gray-500 hover:text-gray-700">
<i data-feather="x" class="w-4 h-4"></i>
</button>
</div>
</div>
{% endfor %}
</div>
<script>
setTimeout(function() {
    document.querySelectorAll('.fixed.top-4').forEach(function(el) {
        el.style.transition = 'opacity 0.5s';
        el.style.opacity = '0';
        setTimeout(function() { el.remove(); }, 500);
    });
}, 5000);
</script>
{% endif %}
{% endwith %}

